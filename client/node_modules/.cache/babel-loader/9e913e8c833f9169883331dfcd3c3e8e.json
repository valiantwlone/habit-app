{"ast":null,"code":"import _objectSpread from \"/Users/valiantwong/Documents/JS-training/Archive/habit-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/valiantwong/Documents/JS-training/Archive/habit-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/valiantwong/Documents/JS-training/Archive/habit-app/client/src/context/AuthContext.js\";\n\nimport { createContext, useReducer, useEffect } from \"react\";\nimport React from \"react\";\nexport var AuthContext = createContext();\nexport var authReducer = function authReducer(state, action) {\n  switch (action.type) {\n    case 'LOGIN':\n      return {\n        user: action.payload\n      };\n\n    case 'LOGOUT':\n      return {\n        user: null\n      };\n\n    default:\n      return state;\n  }\n};\nexport var AuthContextProvider = function AuthContextProvider(_ref) {\n  var children = _ref.children;\n\n  var _useReducer = useReducer(authReducer, {\n    user: null\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  useEffect(function () {\n    var user = JSON.parse(localStorage.getItem(\"user\"));\n\n    if (user) {\n      dispatch({\n        type: 'LOGIN',\n        payload: user\n      });\n    }\n  }, []);\n  console.log(\"AuthContect state :\", state);\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: _objectSpread({}, state, {\n      dispatch: dispatch\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, children);\n};","map":{"version":3,"names":["createContext","useReducer","useEffect","React","AuthContext","authReducer","state","action","type","user","payload","AuthContextProvider","children","dispatch","JSON","parse","localStorage","getItem","console","log"],"sources":["/Users/valiantwong/Documents/JS-training/Archive/habit-app/client/src/context/AuthContext.js"],"sourcesContent":["import { createContext, useReducer, useEffect } from \"react\";\nimport React from \"react\";\n\nexport const AuthContext = createContext()\nexport const authReducer=( state , action) =>{\n    switch(action.type){\n        case 'LOGIN':\n            return { user : action.payload}\n        case 'LOGOUT' :\n            return {user : null}\n        default :\n        return state\n    }\n}\n\nexport const AuthContextProvider = ({children}) =>{\n    const [state, dispatch]= useReducer(authReducer, {\n        user : null\n    })\n\n    useEffect(()=>{\n        const user = JSON.parse(localStorage.getItem(\"user\"))\n        if(user){\n            dispatch({type : 'LOGIN', payload : user})\n        }\n    },[])\n\n\n\n    console.log(\"AuthContect state :\", state)\n\n    return (\n        <AuthContext.Provider value={{...state, dispatch}}>\n            {children}\n        </AuthContext.Provider>\n    )\n}\n"],"mappings":";;;;;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,SAApC,QAAqD,OAArD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,WAAW,GAAGJ,aAAa,EAAjC;AACP,OAAO,IAAMK,WAAW,GAAC,SAAZA,WAAY,CAAEC,KAAF,EAAUC,MAAV,EAAoB;EACzC,QAAOA,MAAM,CAACC,IAAd;IACI,KAAK,OAAL;MACI,OAAO;QAAEC,IAAI,EAAGF,MAAM,CAACG;MAAhB,CAAP;;IACJ,KAAK,QAAL;MACI,OAAO;QAACD,IAAI,EAAG;MAAR,CAAP;;IACJ;MACA,OAAOH,KAAP;EANJ;AAQH,CATM;AAWP,OAAO,IAAMK,mBAAmB,GAAG,SAAtBA,mBAAsB,OAAe;EAAA,IAAbC,QAAa,QAAbA,QAAa;;EAAA,kBACrBX,UAAU,CAACI,WAAD,EAAc;IAC7CI,IAAI,EAAG;EADsC,CAAd,CADW;EAAA;EAAA,IACvCH,KADuC;EAAA,IAChCO,QADgC;;EAK9CX,SAAS,CAAC,YAAI;IACV,IAAMO,IAAI,GAAGK,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;;IACA,IAAGR,IAAH,EAAQ;MACJI,QAAQ,CAAC;QAACL,IAAI,EAAG,OAAR;QAAiBE,OAAO,EAAGD;MAA3B,CAAD,CAAR;IACH;EACJ,CALQ,EAKP,EALO,CAAT;EASAS,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCb,KAAnC;EAEA,oBACI,oBAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,oBAAMA,KAAN;MAAaO,QAAQ,EAARA;IAAb,EAA3B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACKD,QADL,CADJ;AAKH,CArBM"},"metadata":{},"sourceType":"module"}